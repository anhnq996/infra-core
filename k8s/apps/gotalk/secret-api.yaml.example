# ============================================
# GoTalk API Secret - EXAMPLE (safe to commit)
# ============================================
# Hướng dẫn tạo secret thực trên server:
#
#   1. Copy file này:
#      cp secret-api.yaml.example secret-api.yaml
#
#   2. Tạo base64 cho từng giá trị thực:
#      echo -n "your_actual_value" | base64
#
#   3. Thay tất cả REPLACE_BASE64(...) bằng kết quả base64:
#      nano secret-api.yaml
#
#   4. Apply vào K3s:
#      kubectl apply -f secret-api.yaml
#
# ⚠️  KHÔNG commit secret-api.yaml lên Git!
# ============================================
apiVersion: v1
kind: Secret
metadata:
  name: gotalk-api-secret
  namespace: gotalk
type: Opaque
data:
  # ---- Database Password ----
  # Giá trị thực: gotalk_secret_2026
  # echo -n "gotalk_secret_2026" | base64
  DB_PASSWORD: REPLACE_BASE64(DB_PASSWORD)

  # ---- Redis Password ----
  # Giá trị thực: redis_secret_2026
  # echo -n "redis_secret_2026" | base64
  REDIS_PASSWORD: REPLACE_BASE64(REDIS_PASSWORD)

  # ---- MinIO Credentials ----
  # echo -n "infra_minio" | base64
  MINIO_ACCESS_KEY: REPLACE_BASE64(MINIO_ACCESS_KEY)
  # echo -n "minio_secret_2026" | base64
  MINIO_SECRET_KEY: REPLACE_BASE64(MINIO_SECRET_KEY)

  # ---- JWT Secret ----
  # Tạo random key mạnh: openssl rand -base64 48
  # Sau đó base64 lại: echo -n "<random_key>" | base64
  JWT_SECRET: REPLACE_BASE64(JWT_SECRET)

  # ---- Google OAuth2 ----
  # Lấy từ Google Cloud Console
  # echo -n "your-google-client-id" | base64
  GOOGLE_CLIENT_ID: REPLACE_BASE64(GOOGLE_CLIENT_ID)
  # echo -n "your-google-client-secret" | base64
  GOOGLE_CLIENT_SECRET: REPLACE_BASE64(GOOGLE_CLIENT_SECRET)
